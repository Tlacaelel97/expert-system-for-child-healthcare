# Firebase Deployment Guide

## Prerequisites

1. Install Firebase CLI globally:
```bash
npm install -g firebase-tools
```

2. Login to Firebase:
```bash
firebase login
```

## Configuration

### 1. Update Firebase Project ID

Edit `.firebaserc` and replace `your-project-id` with your actual Firebase project ID:

```json
{
  "projects": {
    "default": "your-actual-project-id"
  }
}
```

### 2. Environment Variables

Make sure your `.env.local` file has all Firebase credentials:

```env
NEXT_PUBLIC_FIREBASE_API_KEY=your-api-key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-auth-domain
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-project-id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-storage-bucket
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your-sender-id
NEXT_PUBLIC_FIREBASE_APP_ID=your-app-id
```

## Build & Deploy

### Step 1: Build the static export

```bash
npm run build
```

This will create an `out` directory with all static files.

### Step 2: Deploy to Firebase Hosting

```bash
firebase deploy --only hosting
```

Or if you want to test locally first:

```bash
firebase serve
```

## Firebase Hosting Configuration

The `firebase.json` file is configured with:

- **Public directory**: `out` (generated by Next.js export)
- **Single Page Application**: All routes redirect to `/index.html`
- **Ignored files**: `firebase.json`, hidden files, and `node_modules`

## Important Notes

1. **Static Export Limitations**:
   - No Server-Side Rendering (SSR)
   - No API Routes
   - No Image Optimization (images are unoptimized)
   - All pages are pre-rendered at build time

2. **Firebase Authentication** works perfectly with static export

3. **Public Directory Answer**: When Firebase CLI asks "What do you want to use as your public directory?", answer: **`out`**

## Deployment Checklist

- [ ] Firebase project created
- [ ] `.firebaserc` updated with correct project ID
- [ ] `.env.local` configured with Firebase credentials
- [ ] Run `npm run build` successfully
- [ ] Test locally with `firebase serve`
- [ ] Deploy with `firebase deploy --only hosting`

## Troubleshooting

### Build fails
- Check that all environment variables are set
- Ensure all imports are correct
- Run `npm install` to ensure all dependencies are installed

### Firebase deploy fails
- Verify you're logged in: `firebase login`
- Check that project ID in `.firebaserc` is correct
- Ensure `out` directory exists after build

### Authentication not working
- Verify Firebase Auth domain in console matches your hosting URL
- Check that all environment variables are correctly set
- Ensure Firebase Authentication is enabled in Firebase Console
